{
  "name": "any-promise",
  "version": "1.1.0",
  "description": "Resolve any installed ES6 compatible promise",
  "main": "index.js",
  "browser": {
    "./register.js": "./register-shim.js"
  },
  "scripts": {
    "test": "make test"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/kevinbeaty/any-promise.git"
  },
  "keywords": [
    "promise",
    "es6"
  ],
  "author": {
    "name": "Kevin Beaty"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/kevinbeaty/any-promise/issues"
  },
  "homepage": "http://github.com/kevinbeaty/any-promise",
  "dependencies": {},
  "devDependencies": {
    "promise": "^7.0.0",
    "es6-promise": "^3.0.0",
    "rsvp": "^3.0.0",
    "bluebird": "^3.0.0",
    "when": "^3.0.0",
    "q": "^1.0.0",
    "native-promise-only": "^0.8.0",
    "promises-aplus-tests": "^2.0.0",
    "mocha": "^2.0.0"
  },
  "readme": "## Any Promise\n\n[![Build Status](https://secure.travis-ci.org/kevinbeaty/any-promise.svg)](http://travis-ci.org/kevinbeaty/any-promise)\n\nLet your library support any ES 2015 (ES6) compatible `Promise` and leave the choice to application authors. The application can register its preferred `Promise` implementation and it will be exported when requiring `any-promise` from library code.\n\nIf no preference is registered, defaults to the global `Promise` for newer Node.js versions. The browser version will always export the global `Promise`, so polyfill as necessary.\n\n### Application Registration\n\nAs an application author, you can optionally register a preferred `Promise` implementation on application startup (before any call to `require('any-promise')`:\n\n```javascript\nrequire('any-promise/register')('bluebird')\n// -or- require('any-promise/register')('es6-promise')\n// -or- require('any-promise/register')('native-promise-only')\n// -or- require('any-promise/register')('rsvp')\n// -or- require('any-promise/register')('when')\n// -or- require('any-promise/register')('q')\n// -or- require('any-promise/register')('any other ES6 compatible library')\n```\n\nYou must register your preference before any call to `require('any-promise')` (by you or required packages), and only one implementation can be registered. Typically, this registration would occur at the top of the application entry point.\n\nRegistration is not required for Node.js version >= 0.12 as a native `Promise` implementation is included. If no preference is registered, the global `Promise` will be used.\n\n#### Example:\n\nAssuming `when` is the desired Promise implementation:\n\n```bash\n# Install preferred promise library\n$ npm install when\n# Install any-promise to allow registration\n$ npm install any-promise\n# Install any libraries you would like to use depending on any-promise\n$ npm install mz\n# Remove potentially duplicated `any-promise` packages\n$ npm dedupe\n```\nRegister your preference in the application entry point before any other `require` of packages that load `any-promise`:\n\n```javascript\n// top of application index.js or other entry point\nrequire('any-promise/register')('when')\n```\n\nNow that the implementation is registered, you can use any package depending on `any-promise`:\n\n```javascript\nvar fsp = require('fs-promise') // fs-promise will use `when` for promise implementations\nvar Promise = require('any-promise')  // the registered `when.Promise`\n```\n\nIt is safe to call `register` multiple times, but it must always be with the same implementation.\n\nAgain, registration is not required. It should only be called by the application user if overriding the default implementation is desired.\n\n\n### Library Usage\n\nLibraries using `any-promise` should only use [documented](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) functions as there is no guarantee which implementation will be chosen by the end user.\n\n```javascript\nvar Promise = require('any-promise');\n\nreturn Promise\n  .all([xf, f, init, coll])\n  .then(fn);\n\n\nreturn new Promise(function(resolve, reject){\n  try {\n    resolve(item);\n  } catch(e){\n    reject(e);\n  }\n});\n\n```\n\nLibraries should never call `register`, only the application user should call if desired.\n\nIf your library needs to branch code based on the registered implementation, you can retrieve it using `var impl = require('any-promise/implementation')`, where `impl` will be the package name (`\"bluebird\"`, `\"when\"`, etc.) if registered, `\"global.Promise\"` if using the global version on Node.js, or `\"window.Promise\"` if using the browser version. You should always include a default case, as there is no guarantee what package may be registered.\n\n### Support for old Node.js versions\n\nNode.js versions prior to `v0.12` may have contained buggy versions of the global `Promise`. For this reason, the global `Promise` is not loaded automatically for these old versions.  If using `any-promise` in Node.js versions versions `<= v0.12`, the user should register a desired implementation.\n\nIf an implementation is not registered, `any-promise` will attempt to discover an installed `Promise` implementation.  If no implementation can be found, an error will be thrown on `require('any-promise')`.  While the auto-discovery usually avoids errors, it is non-deterministic. It is recommended that the user always register a preferred implementation for older Node.js versions.\n\nThis auto-discovery is only available for Node.jS versions prior to `v0.12`. Any newer versions will always default to the global `Promise` implementation.\n",
  "readmeFilename": "README.md",
  "_id": "any-promise@1.1.0",
  "_from": "any-promise@>=1.0.0 <2.0.0"
}
